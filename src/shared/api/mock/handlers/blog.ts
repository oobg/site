import { Server, Request } from 'miragejs';
import type { BlogPostListItem, BlogPost } from '../factories/blog';

// Mock ë¸”ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ ë°ì´í„°
const mockBlogListData: BlogPostListItem[] = [
  {
    id: '01864cd4-bb27-45b6-9844-1fb93b0be366',
    title: 'i18n í‚¤ ë„¤ì´ë° ê·œì¹™',
    category: 'i18n',
    tags: ['naming-rule'],
    createdBy: 'raven',
    created: '2025-10-01T05:20:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
  },
  {
    id: '94afb127-1525-4b69-a2fb-43f5b61cdd91',
    title: 'Github Copilot ì»¤ë°‹ ë£° ì§€ì •í•˜ê¸°',
    category: 'Ai',
    tags: ['github-copilot', 'webstorm'],
    createdBy: 'raven',
    created: '2025-09-19T05:50:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
  },
  {
    id: '6a82ff26-09e4-4519-abad-d2279a05f8a6',
    title: 'React + Zustand + Tailwindë¡œ í•©ì„± ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ Dialog ë§Œë“¤ê¸°',
    category: 'Design-System',
    tags: ['zustand', 'tailwind'],
    createdBy: 'raven',
    created: '2025-09-12T05:08:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
  },
  {
    id: '6ef4ab10-68c4-4405-ad29-c87c3f91397a',
    title: 'React í”„ë¡œì íŠ¸ì—ì„œ CSR, SSR, SSG, ISR ì°¨ì´ì™€ ì„ íƒ ê¸°ì¤€',
    category: 'React',
    tags: ['CSR', 'SSR', 'SSG', 'ISR'],
    createdBy: 'raven',
    created: '2025-09-12T04:55:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
  },
  {
    id: 'bbbd4f0c-66c3-4ca6-8f69-6a2e3ad2d9cb',
    title: 'í™œì„± ì‚¬ìš©ì ì„¸ì…˜ ê´€ë¦¬í•˜ê¸°',
    category: 'Project',
    tags: ['react-query', 'localStorage', 'BroadcastChannel'],
    createdBy: 'raven',
    created: '2025-09-09T05:11:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
  },
  {
    id: '45f3e7b5-f768-4a8a-8b1e-0a0eab2ebd54',
    title: 'React ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…, Suspenseì™€ React.lazy ì œëŒ€ë¡œ í™œìš©í•˜ê¸°',
    category: 'React',
    tags: ['Suspense', 'React.lazy'],
    createdBy: 'raven',
    created: '2025-09-05T05:48:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
  },
  {
    id: 'e2fb860c-7108-449b-8be7-14e1a25bf515',
    title: 'React ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ',
    category: 'React',
    tags: ['useCallback', 'useMemo'],
    createdBy: 'raven',
    created: '2025-09-05T05:39:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
  },
  {
    id: '19cd0a1c-71b4-4e45-a47d-498384fb9ccf',
    title: 'React Context API í•œê³„ì™€ Zustand ê°™ì€ ëŒ€ì•ˆ ë¹„êµ',
    category: 'React',
    tags: ['context', 'zustand'],
    createdBy: 'raven',
    created: '2025-09-05T02:46:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
  },
  {
    id: '1f2cf0fe-4db0-4a56-805a-3f3881af8dee',
    title: 'React 18 ',
    category: 'React',
    tags: ['useEffect'],
    createdBy: 'raven',
    created: '2025-08-27T07:17:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
  },
];

// Mock ë¸”ë¡œê·¸ ìƒì„¸ë³´ê¸° ë°ì´í„°
const mockBlogDetailData: BlogPost[] = [
  {
    id: '01864cd4-bb27-45b6-9844-1fb93b0be366',
    title: 'i18n í‚¤ ë„¤ì´ë° ê·œì¹™',
    category: 'i18n',
    tags: ['naming-rule'],
    createdBy: 'raven',
    created: '2025-10-01T05:20:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
    content: '\nê°œì¸ì ìœ¼ë¡œ ì‚¬ìš©í•  ë‹¤êµ­ì–´ ë„¤ì´ë° ë£°ì„ ì‘ì„±í•´ë³´ì•˜ë‹¤.\n\n\n## 1. ë„¤ì´ë° êµ¬ì¡°\n\n\n```plain text\nbroad.limited.ui.state\n```\n\n- **broad**: í° ê¸°ëŠ¥ ë‹¨ìœ„\n    - ì˜ˆ: `auth`, `editor`, `dashboard`, `common`\n- **limited**: ì„¸ë¶€ ì˜ì—­/ê¸°ëŠ¥\n    - ì˜ˆ: `login`, `toolbar`, `sidebar`, `save`\n- **ui**: UI ìš”ì†Œ ìœ í˜•\n    - ì˜ˆ: `title`, `description`, `button`, `label`, `tooltip`, `message`\n- **state**: ìƒíƒœ/ë§¥ë½ (í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©)\n    - ì˜ˆ: `success`, `error`, `loading`, `retry`, `disabled`\n\n---\n\n\n## 2. ì‘ì„± ê·œì¹™\n\n1. **ì†Œë¬¸ìë§Œ ì‚¬ìš©**í•œë‹¤.\n2. **ì (****`.`****)** ìœ¼ë¡œë§Œ êµ¬ë¶„í•œë‹¤.\n3. `state`ëŠ” ì„ íƒì (optional)ì´ë‹¤.\nê°€ëŠ¥í•˜ë©´ broad.limited.uiê¹Œì§€ë§Œ ì‘ì„±í•˜ê³ , stateëŠ” ìƒí™© ë©”ì‹œì§€ì¼ ë•Œë§Œ ì¶”ê°€í•œë‹¤.\n4. ì „ì—­ ê³µìš© í‚¤ëŠ” `common` broad ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.\n    - ì˜ˆ: `common.ok`, `common.cancel`\n\n---\n\n\n## 3. UI ìš”ì†Œ íƒ€ì…\n\n\n### 1. í…ìŠ¤íŠ¸ ê³„ì—´\n\n- `title` : ì œëª© (í˜ì´ì§€/ì„¹ì…˜/ëª¨ë‹¬ í—¤ë” ë“±)\n- `subtitle` : ë¶€ì œëª© (ë³´ì¡° íƒ€ì´í‹€)\n- `description` : ì„¤ëª…ë¬¸, ì•ˆë‚´ë¬¸\n- `message` : ë©”ì‹œì§€ (ì„±ê³µ/ì˜¤ë¥˜/ì•Œë¦¼ ë“± ìƒíƒœ ê¸°ë°˜ í…ìŠ¤íŠ¸)\n- `tooltip` : íˆ´íŒ\n\n---\n\n\n### 2. ì…ë ¥/í¼ ê³„ì—´\n\n- `label` : ì…ë ¥ í•„ë“œ ë¼ë²¨\n- `placeholder` : ì…ë ¥ì°½ í”Œë ˆì´ìŠ¤í™€ë”\n- `helper` : ë³´ì¡° ì„¤ëª… (í¼ í•˜ë‹¨ ì‘ì€ í…ìŠ¤íŠ¸)\n- `error` : ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ë©”ì‹œì§€\n\n---\n\n\n### 3. ë²„íŠ¼/ì•¡ì…˜ ê³„ì—´\n\n- `button` : ì¼ë°˜ ë²„íŠ¼\n- `link` : í…ìŠ¤íŠ¸ ë§í¬, ë„¤ë¹„ê²Œì´ì…˜ ë§í¬\n- `cta` : ì£¼ìš” Call To Action ë²„íŠ¼ (ì˜ˆ: "êµ¬ë…í•˜ê¸°")\n\n---\n\n\n### 4. ìƒíƒœ/í”¼ë“œë°± ê³„ì—´\n\n- `alert` : ê²½ê³ ì°½ ë©”ì‹œì§€\n- `toast` : í† ìŠ¤íŠ¸ ì•Œë¦¼\n- `dialog` : ë‹¤ì´ì–¼ë¡œê·¸/ëª¨ë‹¬ ë‚´ í…ìŠ¤íŠ¸\n- `badge` : ì‘ì€ ë±ƒì§€ ë¼ë²¨ (ìƒíƒœ, íƒœê·¸ ë“±)\n\n---\n\n\n### 5. ê¸°íƒ€ UI\n\n- `item` : ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ ì´ë¦„\n- `menu` : ë©”ë‰´ í•­ëª©\n- `tab` : íƒ­ ì´ë¦„\n- `step` : ë©€í‹° ìŠ¤í… í”„ë¡œì„¸ìŠ¤ ë‹¨ê³„ëª…\n\n---\n\n\n## 4. ì˜ˆì‹œ\n\n\n### ë¡œê·¸ì¸ í˜ì´ì§€\n\n\n```json\n{\n  "auth.login.title": "ë¡œê·¸ì¸",\n  "auth.login.description": "ê³„ì • ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”",\n  "auth.login.button": "ë¡œê·¸ì¸",\n  "auth.login.message.success": "ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤",\n  "auth.login.message.error": "ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤",\n  "auth.login.message.retry": "ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”"\n}\n```\n\n\n### ì—ë””í„° íˆ´ë°”\n\n\n```json\n{\n  "editor.toolbar.save.button": "ì €ì¥",\n  "editor.toolbar.save.button.error": "ì €ì¥ ì‹¤íŒ¨",\n  "editor.toolbar.undo.button": "ë˜ëŒë¦¬ê¸°",\n  "editor.toolbar.redo.button": "ë‹¤ì‹œí•˜ê¸°"\n}\n```\n\n\n### ê³µí†µ ìš”ì†Œ\n\n\n```json\n{\n  "common.ok": "í™•ì¸",\n  "common.cancel": "ì·¨ì†Œ",\n  "common.retry": "ë‹¤ì‹œ ì‹œë„"\n}\n```\n\n\n---\n\n\n---\n\n\n## 5. ë§ˆë¬´ë¦¬\n\n\nì—¬ê¸°ê¹Œì§€ ì§„í–‰í•˜ë©´, ëŒ€ë¶€ë¶„ì˜ ì¼€ì´ìŠ¤ëŠ” ëŒ€ì‘ ë  ê²ƒìœ¼ë¡œ ìƒê°í•œë‹¤.\n\n\nì¼ë¶€ ì˜ˆì™¸ì¼€ì´ìŠ¤ ì œì™¸í•˜ê³  ì¶”ê°€ê°€ í•„ìš”í•œ ë¶€ë¶„ì€ ë” ê³ ë¯¼í•´ë³´ê³  ì¶”ê°€í•´ë´ì•¼ê² ë‹¤.\n\n',
  },
  {
    id: '94afb127-1525-4b69-a2fb-43f5b61cdd91',
    title: 'Github Copilot ì»¤ë°‹ ë£° ì§€ì •í•˜ê¸°',
    category: 'Ai',
    tags: ['github-copilot', 'webstorm'],
    createdBy: 'raven',
    created: '2025-09-19T05:50:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
    content: '\n# ê²½ë¡œ\n\n\n```typescript\n~/.config/github-copilot/intellij/global-git-commit-instructions.md\n```\n\n\n# ë¬¸ì„œ ë‚´ìš©\n\n\n```typescript\n# Git Commit ë©”ì‹œì§€ ê·œì¹™ (í•œêµ­ì–´ ê°€ì´ë“œ)\n\n## ê¸°ë³¸ êµ¬ì¡°\n<íƒ€ì…>: <ë³€ê²½ ë‚´ìš© ìš”ì•½>\n\n[ì„ íƒ] ë³¸ë¬¸ (ì™œ, ì–´ë–»ê²Œ ë³€ê²½í–ˆëŠ”ì§€ ìƒì„¸ ì„¤ëª…)\n[ì„ íƒ] ê¼¬ë¦¬ë§ (ì´ìŠˆ ë²ˆí˜¸, ë¸Œë ˆì´í‚¹ ì²´ì¸ì§€ ë“±)\n\nmarkdown\nì½”ë“œ ë³µì‚¬\n\n---\n\n## 1. íƒ€ì… (ì˜ë¬¸ ìœ ì§€ ê¶Œì¥)\n\n- **feat**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€\n- **fix**: ë²„ê·¸ ìˆ˜ì •\n- **docs**: ë¬¸ì„œ ìˆ˜ì •\n- **style**: ì½”ë“œ í¬ë§·, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“± (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—†ìŒ)\n- **refactor**: ë¦¬íŒ©í† ë§\n- **test**: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •\n- **chore**: ë¹Œë“œ, ì„¤ì •, íŒ¨í‚¤ì§€ ì‘ì—…\n- **perf**: ì„±ëŠ¥ ê°œì„ \n- **ci**: CI/CD ê´€ë ¨ ë³€ê²½\n- **build**: ë¹Œë“œ ì‹œìŠ¤í…œ, ì˜ì¡´ì„± ê´€ë ¨ ë³€ê²½\n- **revert**: ì´ì „ ì»¤ë°‹ ë˜ëŒë¦¬ê¸°\n\n---\n\n## 2. ì„¤ëª… (í•œêµ­ì–´ë¡œ ì‘ì„±)\n\n- **í˜„ì¬í˜•**, **ê°„ê²°í•˜ê²Œ**\n- **ë§ˆì¹¨í‘œ(.) ì—†ì´ ëë‚´ê¸°**\n\n**ì˜ˆì‹œ**\n- `feat: ì´ë¯¸ì§€ í¸ì§‘ íˆìŠ¤í† ë¦¬ ë˜ëŒë¦¬ê¸° ê¸°ëŠ¥ ì¶”ê°€`\n- `fix: ì„¸ì…˜ ë§Œë£Œ ì‹œ ì—ë””í„° ì €ì¥ ì•ˆ ë˜ëŠ” ë¬¸ì œ ìˆ˜ì •`\n- `docs: ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± ê°€ì´ë“œ ë¬¸ì„œ ì¶”ê°€`\n- `refactor: BroadcastChannel í›… ë‚´ë¶€ ë¡œì§ ë‹¨ìˆœí™”`\n\n---\n\n## 3. ë³¸ë¬¸ (ì„ íƒ, ìƒì„¸ ì„¤ëª…)\n\n- ë³€ê²½ ì´ìœ , ì˜ë„, ë°©ë²•ì„ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±\n- ì—¬ëŸ¬ ì¤„ ì‘ì„± ê°€ëŠ¥ (ë¦¬ìŠ¤íŠ¸ ê¶Œì¥)\n\n**ì˜ˆì‹œ**\nfeat: AI ë¦¬ë¯¹ìŠ¤ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€\n\nundo/redo ì‹œ ì´ë¯¸ì§€ ë ˆì´ì–´ ê°€ì‹œì„± ë™ê¸°í™”\n\ntempLayerë¥¼ í™œìš©í•´ í¸ì§‘ ì¤‘ ìƒíƒœ ê´€ë¦¬\n\nyaml\nì½”ë“œ ë³µì‚¬\n\n---\n\n## 4. ê¼¬ë¦¬ë§ (ì„ íƒ)\n\n- **BREAKING CHANGE:** í˜¸í™˜ì„± ê¹¨ì§€ëŠ” ë³€ê²½ ì„¤ëª…\n- **Closes #123:** ê´€ë ¨ ì´ìŠˆ ë‹«ê¸°\n```\n\n',
  },
  {
    id: '6a82ff26-09e4-4519-abad-d2279a05f8a6',
    title: 'React + Zustand + Tailwindë¡œ í•©ì„± ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ Dialog ë§Œë“¤ê¸°',
    category: 'Design-System',
    tags: ['zustand', 'tailwind'],
    createdBy: 'raven',
    created: '2025-09-12T05:08:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
    content: '\nReact í”„ë¡œì íŠ¸ì—ì„œ ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” UIê°€ ë°”ë¡œ Dialog(ëª¨ë‹¬)ë‹¤.\nì²˜ìŒì—” í˜ì´ì§€ë³„ë¡œ ëª¨ë‹¬ì„ ë”°ë¡œ êµ¬í˜„í–ˆì§€ë§Œ, ì ì  ìƒíƒœ ê´€ë¦¬ì™€ ë””ìì¸ ì¼ê´€ì„±ì´ ê¹¨ì¡Œë‹¤. ê·¸ë˜ì„œ ì´ë²ˆì—” ë””ìì¸ ì‹œìŠ¤í…œ ì°¨ì›ì—ì„œ í•©ì„± ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ì„ ì ìš©í•´ Dialogë¥¼ ë‹¤ì‹œ ë§Œë“¤ì—ˆë‹¤.\n\n\n---\n\n\n### ì™œ í•©ì„± ì»´í¬ë„ŒíŠ¸ì¸ê°€?\n\n\nì²˜ìŒì—ëŠ” `Dialog` í•˜ë‚˜ ì•ˆì— ëª¨ë“  UIë¥¼ ë‹¤ ë„£ê³  propsë¡œ ì œì–´í–ˆë‹¤.\n\n\n`hasFooter`, `variant="alert"` ê°™ì€ ì˜µì…˜ì„ ê³„ì† ëŠ˜ë ¤ê°€ë‹¤ ë³´ë‹ˆ ì½”ë“œê°€ ì ì  ì§€ì €ë¶„í•´ì¡Œë‹¤.\n\n\ní•˜ì§€ë§Œ ì‹¤ì œë¡œ ì“°ë‹¤ ë³´ë©´ ëª¨ë‹¬ë§ˆë‹¤ êµ¬ì¡°ê°€ ì œê°ê°ì´ë‹¤.\n\n- ì–´ë–¤ ê±´ í—¤ë”/ë³¸ë¬¸/í‘¸í„°ê°€ ëª¨ë‘ í•„ìš”\n- ì–´ë–¤ ê±´ ë³¸ë¬¸ë§Œ ìˆëŠ” ë‹¨ìˆœ ì•Œë¦¼ì°½\n- ë˜ ì–´ë–¤ ê±´ íŠ¹ìˆ˜í•œ ë²„íŠ¼ì´ ë“¤ì–´ê°€ì•¼ í•¨\n\nì¦‰, **ìƒí™©ì— ë§ê²Œ ìœ ì—°í•˜ê²Œ ì¡°í•©í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°**ê°€ í•„ìš”í–ˆë‹¤.\n\n\nê·¸ë˜ì„œ ìµœì¢…ì ìœ¼ë¡œ `<Dialog>`ë¥¼ ë¶€ëª¨ ìš”ì†Œë¡œ ë‘ê³ ,\n\n\nê·¸ ì•ˆì— `<Dialog.Content>`, `<Dialog.Trigger>` ê°™ì€ ì„œë¸Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì—¬ ì“°ëŠ” **í•©ì„± ì»´í¬ë„ŒíŠ¸ íŒ¨í„´**ì„ ë„ì…í–ˆë‹¤.\n\n\n---\n\n\n### ì¶œì €â€¦\n\n\nì‚¬ì‹¤ í•©ì„± ì»´í¬ë„ŒíŠ¸ì˜ ê°œë…ì„ ë„ì…í•˜ê³ ì ë§ˆìŒë¨¹ì€ ê²ƒì€, tailwind labs ê°€ ìš´ì˜í•˜ê³  ìˆëŠ” ì‚¬ì´íŠ¸, headlessUI ì—ì„œ ê°€ì ¸ì™”ë‹¤.\n\n\n[https://headlessui.com/](https://headlessui.com/)\n\n\n---\n\n\n### í•©ì„± êµ¬ì¡° ì„¤ê³„\n\n\nDialogì˜ entry pointë¥¼ í•˜ë‚˜ ë‘ê³ , ë‚´ë¶€ì— í•„ìš”í•œ ì„œë¸Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì˜€ë‹¤.\n\n\n```typescript\nimport DialogTrigger from "./Trigger";\nimport DialogTriggerIcon from "./TriggerIcon";\nimport DialogOverlay from "./Overlay";\nimport DialogCloseButton from "./CloseButton";\nimport DialogContent from "./Content";\nimport DialogDim from "./Dim";\n\nexport const Dialog = Object.assign(DialogOverlay, {\n  Trigger: Object.assign(DialogTrigger, {\n    Icon: DialogTriggerIcon,\n  }),\n  Close: DialogCloseButton,\n  Content: DialogContent,\n  Dim: DialogDim,\n});\n```\n\n\nì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œ ì´ëŸ° ì‹ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆë‹¤:\n\n\n```typescript\n<Dialog.Trigger>\n  <Dialog.Trigger.Icon />\n</Dialog.Trigger>\n\n<Dialog>\n  <Dialog.Dim />\n  <Dialog.Close />\n  <Dialog.Content />\n</Dialog>\n```\n\n\n---\n\n\n### Zustandë¡œ ìƒíƒœ ê´€ë¦¬í•˜ê¸°\n\n\nDialogì˜ ì—´ë¦¼/ë‹«í˜ ìƒíƒœëŠ” ì—¬ì „íˆ Zustandë¡œ ê´€ë¦¬í•œë‹¤.\n\n\në‹¨ìˆœíˆ ëª¨ë‹¬ë§Œ ë„ìš¸ ë•ŒëŠ” `isOpen`, `open`, `close` ì„¸ ê°€ì§€ë§Œ ìˆìœ¼ë©´ ì¶©ë¶„í•˜ë‹¤.\n\n\n```typescript\n// store/dialogStore.ts\nimport { create } from "zustand";\n\ninterface DialogState {\n  isOpen: boolean;\n  open: () => void;\n  close: () => void;\n}\n\nexport const useDialogStore = create<DialogState>((set) => ({\n  isOpen: false,\n  open: () => set({ isOpen: true }),\n  close: () => set({ isOpen: false }),\n}));\n```\n\n\n---\n\n\n### ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ\n\n\n```typescript\nimport { Dialog } from "@src/shared";\nimport { useDialogStore } from "../store/dialogStore";\n\nexport default function Page() {\n  const { open } = useDialogStore();\n\n  return (\n    <div>\n      <Dialog.Trigger>\n        <Dialog.Trigger.Icon />\n      </Dialog.Trigger>\n\n      <Dialog>\n        <Dialog.Dim />\n        <Dialog.Close />\n        <Dialog.Content>\n          <h2 className="text-lg font-bold">Dialog Title</h2>\n          <p className="mt-2 text-gray-600">ì—¬ê¸°ì— ë‚´ìš©ì„ ë„£ìŠµë‹ˆë‹¤.</p>\n        </Dialog.Content>\n      </Dialog>\n    </div>\n  );\n}\n```\n\n\n---\n\n\n### ì‹¬í™”ê³¼ì •\n\n\ní° í‹€ì—ì„œì˜ í•©ì„± ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬í˜„í•œ Dialog ì»´í¬ë„ŒíŠ¸ëŠ” ì–´ëŠì •ë„ ì™„ì„±ì´ ë˜ì—ˆë‹¤.\n\n\nì´ì œ ì¡°ê¸ˆì”© ê¸°ëŠ¥ì„ ë§ë¶™ì—¬ë³´ë„ë¡ í•˜ì.\n\n\n---\n\n\n### ë‹¨ì \n\n\nì´ë ‡ê²Œ showModal ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ëª¨ë‹¬ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì€ í•œê³„ë¥¼ ê°–ê²Œ ëœë‹¤.\n\n\nNotification ì•ˆë‚´ ëª¨ë‹¬ì´ showModal ë’¤ë¡œ ë“¤ì–´ê°„ë‹¤.\n\n\n---\n\n\n### ì‘ì—…í•˜ë©´ì„œ ëŠë‚€ ì \n\n- `Object.assign`ìœ¼ë¡œ í•©ì„± ì»´í¬ë„ŒíŠ¸ë¥¼ ë¬¶ìœ¼ë‹ˆ, **API ì‚¬ìš©ì„±ì´ ì§ê´€ì **ì´ì—ˆë‹¤.\n- `Dialog.Trigger.Icon` ê°™ì€ ê¹Šì€ ë„¤ì´ë°ë„ ê°€ëŠ¥í•´ì„œ, ë””ìì¸ ì‹œìŠ¤í…œì—ì„œ **ì¡°ë¦½ì‹ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆëŠ” í˜•íƒœ**ê°€ ëë‹¤.\n- `props`ë¡œ ëª¨ë“  ê±¸ ì œì–´í•˜ëŠ” ë°©ì‹ë³´ë‹¤ í›¨ì”¬ ìœ ì—°í–ˆê³ , í•„ìš” ì—†ëŠ” ë¶€ë¶„ì€ ë¹¼ê³  ì“°ë©´ ë˜ë‹ˆ ê°€ë³ë‹¤.\n- ë‹¤ë§Œ ì ‘ê·¼ì„±(esc í‚¤, focus trap)ê³¼ ì• ë‹ˆë©”ì´ì…˜ì€ ë³„ë„ì˜ ë ˆì´ì–´ë¡œ ë‹¤ë£¨ëŠ” ê²Œ ì¢‹ê² ë‹¤.\n\n---\n\n\nğŸ‘‰ ì´ë²ˆ êµ¬ì¡°ëŠ” ë””ìì¸ ì‹œìŠ¤í…œì—ì„œ **í™•ì¥ì„±ê³¼ ì§ê´€ì  API**ë¥¼ ëª¨ë‘ ì±™ê¸¸ ìˆ˜ ìˆì—ˆë‹¤.\n\n\në‹¤ìŒ ë‹¨ê³„ëŠ” **ì ‘ê·¼ì„± ë³´ê°•**ê³¼ **ì• ë‹ˆë©”ì´ì…˜ ì ìš© ê²½í—˜**ì„ ì •ë¦¬í•  ì˜ˆì •ì´ë‹¤.\n\n',
  },
  {
    id: '6ef4ab10-68c4-4405-ad29-c87c3f91397a',
    title: 'React í”„ë¡œì íŠ¸ì—ì„œ CSR, SSR, SSG, ISR ì°¨ì´ì™€ ì„ íƒ ê¸°ì¤€',
    category: 'React',
    tags: ['CSR', 'SSR', 'SSG', 'ISR'],
    createdBy: 'raven',
    created: '2025-09-12T04:55:00.000Z',
    edited: '2025-11-10T16:35:00.000Z',
    content: '\nReactë¡œ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‹¤ ë³´ë©´, ë°˜ë“œì‹œ ë¶€ë”ªíˆëŠ” ì§ˆë¬¸ì´ ìˆë‹¤.\n\n\n"ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” **ì–´ë–¤ ë Œë”ë§ ë°©ì‹**ì„ ì¨ì•¼ í•˜ì§€?"\n\n\nCSR(Client-Side Rendering), SSR(Server-Side Rendering), SSG(Static Site Generation), ISR(Incremental Static Regeneration).\n\n\nìš©ì–´ëŠ” ë§ê³  í—·ê°ˆë¦¬ì§€ë§Œ, ì‚¬ì‹¤ ê°ê°ì˜ ì¥ë‹¨ì ê³¼ ì„ íƒ ê¸°ì¤€ì€ ëª…í™•í•˜ë‹¤.\n\n\n---\n\n\n### CSR: ê°€ì¥ ìµìˆ™í•œ ê¸°ë³¸ê¸°\n\n\nCSRì€ ë¸Œë¼ìš°ì €ê°€ ë¹ˆ HTMLì„ ë°›ê³ , ì´í›„ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•´ UIë¥¼ ë§Œë“œëŠ” ë°©ì‹ì´ë‹¤.\n\n\nCRA(create-react-app)ë¡œ ë§Œë“  í”„ë¡œì íŠ¸ê°€ ì „í˜•ì ì¸ CSRì´ë‹¤.\n\n\nì¥ì ì€ ë‹¨ìˆœí•˜ë‹¤. ë¹Œë“œì™€ ë°°í¬ê°€ ì‰½ê³ , í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ìƒíƒœ ê´€ë¦¬í•˜ë©´ ëœë‹¤.\n\n\ní•˜ì§€ë§Œ ë‹¨ì ì€ ì¹˜ëª…ì ì´ë‹¤. ì²« ë¡œë”© ë•Œ SEOì— ì•½í•˜ê³ , í° í™”ë©´ì„ ì˜¤ë˜ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.\n\n\në‚´ ê²½í—˜ìƒ, **ê´€ë¦¬ì í˜ì´ì§€ë‚˜ ë‚´ë¶€ ë„êµ¬**ë¼ë©´ CSRë¡œë„ ì¶©ë¶„í•˜ë‹¤. SEOê°€ ì¤‘ìš”í•˜ì§€ ì•Šê³ , ì´ˆê¸° ë¡œë”© ëª‡ ì´ˆ ì°¨ì´ëŠ” ì¹˜ëª…ì ì´ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.\n\n\n---\n\n\n### SSR: ì„œë²„ì—ì„œ ê·¸ë ¤ì£¼ëŠ” ì¦‰ì‹œ ì‘ë‹µ\n\n\nSSRì€ ì„œë²„ê°€ HTMLì„ ë Œë”ë§í•´ì„œ ì‚¬ìš©ìì—ê²Œ ë°”ë¡œ ë³´ë‚´ì£¼ëŠ” ë°©ì‹ì´ë‹¤.\n\n\nNext.jsì—ì„œ í”íˆ ì‚¬ìš©í•˜ëŠ” `getServerSideProps`ê°€ ì—¬ê¸°ì— í•´ë‹¹í•œë‹¤.\n\n\nì¥ì ì€ ì²« í™”ë©´ì´ ì¦‰ì‹œ ëœ¨ê³  SEOì—ë„ ê°•í•˜ë‹¤.\n\n\ní•˜ì§€ë§Œ ë‹¨ì ì€ ì„œë²„ ë¶€í•˜ê°€ í¬ê³ , ìš”ì²­ë§ˆë‹¤ ë Œë”ë§í•˜ë‹ˆ ìºì‹± ì „ëµì´ ì—†ìœ¼ë©´ ë¹„ìš©ì´ ì»¤ì§„ë‹¤.\n\n\në‚´ê°€ ì§„í–‰í–ˆë˜ ì»¤ë¨¸ìŠ¤ í”„ë¡œì íŠ¸ì—ì„œëŠ” SSRì„ íƒí–ˆë‹¤.\n\n\nìƒí’ˆ ìƒì„¸ í˜ì´ì§€ë¥¼ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ **ìµœì‹  ê°€ê²©ê³¼ ì¬ê³ **ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²Œ í•µì‹¬ì´ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\n\n\n---\n\n\n### SSG: ë¹Œë“œ íƒ€ì„ì— ë¯¸ë¦¬ ë½‘ì•„ë‘ê¸°\n\n\nSSGëŠ” ë¹Œë“œ ì‹œì ì— HTMLì„ ë§Œë“¤ì–´ë‘ëŠ” ë°©ì‹ì´ë‹¤.\n\n\n`getStaticProps`ì™€ `getStaticPaths`ë¥¼ ì“°ë©´ ëœë‹¤.\n\n\nì¥ì ì€ ì†ë„ë‹¤. CDNì— ìºì‹±í•´ë‘ë©´ ì „ ì„¸ê³„ ì–´ë””ì„œë“  ë¹ ë¥´ê²Œ ì‘ë‹µëœë‹¤.\n\n\në‹¨ì ì€ ë¹Œë“œ ì´í›„ ë°ì´í„°ê°€ ë°”ë€Œë©´ ë°˜ì˜ì´ ì–´ë µë‹¤ëŠ” ì ì´ë‹¤.\n\n\nì˜ˆë¥¼ ë“¤ì–´ ë¸”ë¡œê·¸ë‚˜ ë¬¸ì„œ ì‚¬ì´íŠ¸ëŠ” ê¸€ì´ í•˜ë£¨ì— í•œ ë²ˆ ë°”ë€Œì–´ë„ ì¶©ë¶„í•˜ë‹¤.\n\n\nì´ëŸ° ê²½ìš°ì—” SSGê°€ ìµœê³ ì˜ ì„ íƒì´ë‹¤. ë‚˜ëŠ” ê°œì¸ ë¸”ë¡œê·¸ë¥¼ Next.js SSGë¡œ ë°°í¬í–ˆëŠ”ë°, Cloudflare CDNì— ì–¹ìœ¼ë‹ˆ ë¡œë”© ì†ë„ê°€ ì²´ê°ìƒ 0.5ì´ˆ ì•ˆíŒì´ì—ˆë‹¤.\n\n\n---\n\n\n### ISR: ì •ì ì´ì§€ë§Œ ì—…ë°ì´íŠ¸ë„ í•œë‹¤\n\n\nISRì€ SSGì˜ ë‹¨ì ì„ ë³´ì™„í•œ ë°©ì‹ì´ë‹¤.\n\n\në¹Œë“œëœ í˜ì´ì§€ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„œë¹„ìŠ¤í•˜ì§€ë§Œ, íŠ¹ì • ì£¼ê¸°ë§ˆë‹¤ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìƒˆ HTMLì„ ê°±ì‹ í•œë‹¤.\n\n\nNext.jsì˜ `revalidate` ì˜µì…˜ì´ ëŒ€í‘œì ì´ë‹¤.\n\n\në•ë¶„ì— **ë¹ ë¥¸ ì‘ë‹µì„±ê³¼ ìµœì‹ ì„±**ì„ ë™ì‹œì— ì±™ê¸¸ ìˆ˜ ìˆë‹¤.\n\n\nì˜ˆì „ì— ë‰´ìŠ¤ ìš”ì•½ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ISRì„ ì ìš©í–ˆë‹¤.\n\n\nê¸°ì‚¬ ë°ì´í„°ê°€ 10ë¶„ ë‹¨ìœ„ë¡œ ê°±ì‹ ë˜ëŠ”ë°, ë§¤ ìš”ì²­ë§ˆë‹¤ SSRì„ ì“°ê¸°ì—” ì„œë²„ ë¶€ë‹´ì´ ì»¸ë‹¤.\n\n\nISRë¡œ 10ë¶„ë§ˆë‹¤ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ë¹Œë“œí•˜ë‹ˆ ë¹„ìš©ê³¼ ì†ë„ ëª¨ë‘ ì•ˆì •ì ì´ì—ˆë‹¤.\n\n\n---\n\n\n### ì •ë¦¬: ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì„ íƒí• ê¹Œ?\n\n- **CSR** â†’ ë‚´ë¶€ íˆ´, SEO í•„ìš” ì—†ëŠ” ì„œë¹„ìŠ¤\n- **SSR** â†’ ìµœì‹ ì„±ì´ ì¤‘ìš”í•˜ê³ , SEOë„ ì±™ê²¨ì•¼ í•˜ëŠ” ì„œë¹„ìŠ¤\n- **SSG** â†’ ìì£¼ ì•ˆ ë°”ë€ŒëŠ” ì •ì  í˜ì´ì§€ (ë¸”ë¡œê·¸, ë¬¸ì„œ)\n- **ISR** â†’ ë¹ ë¥´ë©´ì„œë„ ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì„œë¹„ìŠ¤\n\ní•œ ì¤„ë¡œ ì •ë¦¬í•˜ìë©´,\n\n\n"ë°ì´í„° ë³€ê²½ ì£¼ê¸°"ì™€ "SEO í•„ìš” ì—¬ë¶€"ê°€ ì„ íƒì˜ í•µì‹¬ì´ë‹¤.\n\n\n---\n\n\nReact ìƒíƒœê³„ëŠ” ì´ì œ ë‹¨ìˆœ CSRë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤.\n\n\nNext.js ê°™ì€ í”„ë ˆì„ì›Œí¬ë¥¼ ì“°ëŠ” ì´ìœ ë„ ê²°êµ­ ì´ ë„¤ ê°€ì§€ ë Œë”ë§ ì „ëµì„ ìƒí™©ì— ë§ê²Œ ê³ ë¥¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\n',
  },
  {
    id: 'bbbd4f0c-66c3-4ca6-8f69-6a2e3ad2d9cb',
    title: 'í™œì„± ì‚¬ìš©ì ì„¸ì…˜ ê´€ë¦¬í•˜ê¸°',
    category: 'Project',
    tags: ['react-query', 'localStorage', 'BroadcastChannel'],
    createdBy: 'raven',
    created: '2025-09-09T05:11:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
    // eslint-disable-next-line no-template-curly-in-string
    content: '\n### í”„ë¡œì íŠ¸ë¥¼ ì—¬ëŸ¬ íƒ­ì—ì„œ ì—´ì—ˆì„ ë•Œ\n\n\nì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¡œ ì—ë””í„°ë¥¼ ë§Œë“¤ë‹¤ ë³´ë©´ ì´ëŸ° ìƒí™©ì„ ìì£¼ ë§Œë‚©ë‹ˆë‹¤.\n\n\në‚´ê°€ ê°™ì€ í”„ë¡œì íŠ¸ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜, ìƒˆ íƒ­ì—ì„œ ë™ì‹œì— ì—´ì—ˆì„ ë•Œ ì„¸ì…˜ì´ ê¼¬ì´ëŠ” ë¬¸ì œì£ .\n\n\nì²˜ìŒì—” ë‹¨ìˆœíˆ "ì„œë²„ì— activeSessions ë°°ì—´ ë‘ê³  expiresAtìœ¼ë¡œ ë§Œë£Œ ì²´í¬í•˜ë©´ ë˜ê² ì§€"ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\n\n\nê·¼ë° ì‹¤ì œë¡œ ì¨ë³´ë‹ˆ, ê°™ì€ ë¸Œë¼ìš°ì € ì•ˆì—ì„œ ì—´ë¦¬ëŠ” íƒ­ë“¤ë¼ë¦¬ ì¶©ëŒì´ ìƒê²¼ìŠµë‹ˆë‹¤.\n\n\nì„œë²„ë§Œ ë¯¿ìœ¼ë©´ ë˜ì§€ ì•Šëƒê³ ìš”? í˜„ì‹¤ì€ ê·¸ë ‡ê²Œ ë‹¨ìˆœí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n\n---\n\n\n### ì„¸ì…˜ì„ ì–´ë–»ê²Œ ê´€ë¦¬í• ê¹Œ\n\n\nì œê°€ ì •ë¦¬í•œ ë°©ì‹ì€ í¬ê²Œ ì„¸ ë‹¨ê³„ì…ë‹ˆë‹¤.\n\n1. **ì„œë²„(activeSessions)**\n\n    ì„œë²„ëŠ” ê¶Œìœ„(authoritative)ë¥¼ ê°–ìŠµë‹ˆë‹¤.\n\n\n    `expiresAt`ì´ ì§€ë‚œ ì„¸ì…˜ì€ ë¬´íš¨ ì²˜ë¦¬í•˜ê³ , ìƒˆ ì„¸ì…˜ì´ ë“¤ì–´ì˜¤ë©´ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤.\n\n2. **localStorage**\n\n    ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ ê°™ì€ ê²½ìš°ì—ëŠ” ê°™ì€ `sessionId`ë¥¼ ì´ì–´ê°€ì•¼ í•©ë‹ˆë‹¤.\n\n\n    ê·¸ë˜ì„œ í”„ë¡œì íŠ¸ë³„ë¡œ sessionIdë¥¼ localStorageì— ì €ì¥í•©ë‹ˆë‹¤.\n\n\n    ```typescript\n    {\n      "123": {\n        "sessionId": "uuid-111",\n        "userId": 42,\n        "expiresAt": "2025-09-09T12:00:00Z"\n      }\n    }\n    ```\n\n\n    ì´ë ‡ê²Œ ë‘ë©´ ìƒˆë¡œê³ ì¹¨í•´ë„ ì´ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n3. **BroadcastChannel**\n\n    ê°™ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì—¬ëŸ¬ íƒ­ì„ ì—´ì—ˆì„ ë•ŒëŠ” localStorageë§Œìœ¼ë¡œ ë¶€ì¡±í•©ë‹ˆë‹¤.\n\n\n    í•œìª½ì—ì„œ ë‚˜ê°€ë©´ ë‹¤ë¥¸ íƒ­ë„ ë°”ë¡œ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•˜ë‹ˆê¹Œìš”.\n\n\n    ê·¸ë˜ì„œ `BroadcastChannel`ì„ ì¨ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ "ì„¸ì…˜ ê°±ì‹ /ì‚­ì œ"ë¥¼ ì•Œë¦½ë‹ˆë‹¤.\n\n\n---\n\n\n### React Queryë¡œ ìë™ ê°±ì‹ \n\n\nì„¸ì…˜ ìœ ì§€ì˜ í•µì‹¬ì€ ê°±ì‹  ì£¼ê¸°ì…ë‹ˆë‹¤.\n\n\nì €ëŠ” `react-query`ì˜ `useQuery`ë¥¼ ì¨ì„œ 3ë¶„ë§ˆë‹¤ `PatchSession`ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.\n\n\nì„¸ì…˜ì˜ ì‹¤ì œ ë§Œë£Œ ì‹œê°„ì€ 5ë¶„ìœ¼ë¡œ ë‘ê³ , 2ë¶„ì˜ ë²„í¼ë¥¼ í™•ë³´í•˜ëŠ” ì…ˆì…ë‹ˆë‹¤.\n\n\n```typescript\nimport { useQuery } from "react-query";\nimport { patchSession } from "./api";\n\nexport function useAutoSession(sessionId: string) {\n  return useQuery({\n    queryKey: ["editor-session", sessionId],\n    queryFn: () => patchSession(sessionId),\n    refetchInterval: 180_000, // 3ë¶„\n    refetchOnWindowFocus: false,\n    refetchIntervalInBackground: true,\n  });\n}\n```\n\n\nì´ë ‡ê²Œ ë‘ë©´ íƒ­ì´ ë°±ê·¸ë¼ìš´ë“œì— ìˆì–´ë„ ê°±ì‹ ì´ ëŒì•„ê°‘ë‹ˆë‹¤.\n\n\ní¸ì§‘ ì‘ì—…ì„ ì €ì¥í•˜ê±°ë‚˜, "ì´ë¯¸ì§€ ì ìš©" ë²„íŠ¼ì„ ëˆŒë €ì„ ë•ŒëŠ” ìˆ˜ë™ìœ¼ë¡œ `refetch()`ë¥¼ ë¶ˆëŸ¬ì„œ ë§Œë£Œ ì‹œê°„ì„ ëŠ˜ë ¤ì¤ë‹ˆë‹¤.\n\n\n---\n\n\n### íƒ­ ê°„ í†µì‹  ì²˜ë¦¬\n\n\nBroadcastChannelì€ ìƒê°ë³´ë‹¤ ì“°ê¸° ê°„ë‹¨í•©ë‹ˆë‹¤.\n\n\n```typescript\nconst channel = new BroadcastChannel(`editor-session-${projectId}`);\n\nchannel.postMessage({ type: "SESSION_REMOVE" });\n\nchannel.onmessage = (event) => {\n  if (event.data.type === "SESSION_REMOVE") {\n    // ë‹¤ë¥¸ íƒ­ì—ì„œ ì¢…ë£Œë¨ â†’ í˜„ì¬ íƒ­ë„ ì •ë¦¬\n    alert("ë‹¤ë¥¸ íƒ­ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì¢…ë£Œí–ˆìŠµë‹ˆë‹¤.");\n    window.location.href = "/";\n  }\n};\n```\n\n\nlocalStorageëŠ” "ì¬ì§„ì… ì‹œ ì„¸ì…˜ ë³µì›"ì— ì“°ê³ ,\n\n\nBroadcastChannelì€ "ê°™ì€ ë¸Œë¼ìš°ì € ë‚´ ì‹¤ì‹œê°„ ë™ê¸°í™”"ì— ì“°ëŠ” ê²ë‹ˆë‹¤.\n\n\n---\n\n\n### ì •ë¦¬\n\n\nì´ êµ¬ì¡°ë¡œ ê°€ë©´ ê±°ì˜ ëª¨ë“  ìƒí™©ì„ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ìƒˆë¡œê³ ì¹¨ â†’ localStorageë¡œ ë™ì¼ ì„¸ì…˜ ìœ ì§€\n- ë‹¤ë¥¸ ë¸Œë¼ìš°ì €/ê¸°ê¸° â†’ ì„œë²„ activeSessionsë¡œ ì°¨ë‹¨\n- ê°™ì€ ë¸Œë¼ìš°ì € ë‹¤ë¥¸ íƒ­ â†’ BroadcastChannelë¡œ ì¦‰ì‹œ ê°ì§€\n\nì¦‰, **1ìœ ì € 1í”„ë¡œì íŠ¸ 1ì„¸ì…˜**ì„ ì•ˆì •ì ìœ¼ë¡œ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\nì²˜ìŒì—” ë‹¨ìˆœíˆ ì„œë²„ expiresAtë§Œ ë‘ë©´ ëœë‹¤ê³  ìƒê°í–ˆëŠ”ë°,\n\n\nì‹¤ì œë¡œëŠ” localStorageì™€ BroadcastChannelì„ ì¡°í•©í•´ì•¼ ë¨¸ë¦¬ê°€ ëœ ë¹ ì§‘ë‹ˆë‹¤.\n\n\nì €ì²˜ëŸ¼ íƒˆëª¨ ê±±ì •í•˜ê¸° ì „ì—, ì„¸ì…˜ ê´€ë¦¬ ë¡œì§ì„ ë¨¼ì € ì±™ê¸°ì‹œê¸¸ ë°”ëë‹ˆë‹¤ \n\n',
  },
  {
    id: '45f3e7b5-f768-4a8a-8b1e-0a0eab2ebd54',
    title: 'React ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…, Suspenseì™€ React.lazy ì œëŒ€ë¡œ í™œìš©í•˜ê¸°',
    category: 'React',
    tags: [
      'Suspense',
      'React.lazy',
    ],
    createdBy: 'raven',
    created: '2025-09-05T05:48:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
    content: '\nReact í”„ë¡œì íŠ¸ë¥¼ ì–´ëŠ ì •ë„ í‚¤ì›Œë³´ë‹¤ ë³´ë©´, ìì—°ìŠ¤ëŸ½ê²Œ **ë²ˆë“¤ í¬ê¸°** ë¬¸ì œì— ë¶€ë”ªíˆê²Œ ëœë‹¤.\nì´ˆê¸° ë¡œë”© ì†ë„ê°€ ì ì  ëŠë ¤ì§€ê³ , ì‚¬ìš©ìëŠ” í° í™”ë©´ì—ì„œ ì˜¤ë«ë™ì•ˆ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.\nì´ëŸ´ ë•Œ ìš°ë¦¬ê°€ ì‚¬ìš©í•´ ë³¼ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë°”ë¡œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…(Code Splitting)ì´ë‹¤.\n\n\n---\n\n\n### React.lazyì™€ Suspense ê¸°ë³¸ê¸°\n\n\nReact 16.6ë¶€í„° ì œê³µë˜ëŠ” `React.lazy`ëŠ” ë™ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\në³´í†µì€ ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤.\n\n\n```typescript\nimport { Suspense, lazy } from "react";\n\nconst Chart = lazy(() => import("./Chart"));\n\nexport default function Dashboard() {\n  return (\n    <Suspense fallback={<div>ë¡œë”© ì¤‘...</div>}>\n      <Chart />\n    </Suspense>\n  );\n}\n```\n\n\nì´ë ‡ê²Œ í•˜ë©´ `Chart` ì»´í¬ë„ŒíŠ¸ëŠ” ì´ˆê¸° ë²ˆë“¤ì— í¬í•¨ë˜ì§€ ì•Šê³ , ì‹¤ì œë¡œ ë Œë”ë§ë  ë•Œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¨ë‹¤. ì‚¬ìš©ìëŠ” í•„ìš”í•œ ìˆœê°„ì—ë§Œ ì½”ë“œë¥¼ ë‹¤ìš´ë¡œë“œë°›ìœ¼ë‹ˆ ì´ˆê¸° ë¡œë”© ì†ë„ê°€ ë¹¨ë¼ì§„ë‹¤.\n\n\në‹¨, `React.lazy`ë¡œ ë¶ˆëŸ¬ì˜¬ ì»´í¬ë„ŒíŠ¸ëŠ” ë°˜ë“œì‹œ **default export**ì—¬ì•¼ í•œë‹¤ëŠ” ì ì„ ìŠì§€ ë§ì.\n\n\n---\n\n\n### ì‹¤ë¬´ì—ì„œ ë¶€ë”ªíŒ ë¬¸ì œë“¤\n\n\ní•˜ì§€ë§Œ ë‹¨ìˆœíˆ `lazy`ë§Œ ì“´ë‹¤ê³  ëì´ ì•„ë‹ˆë‹¤. ì‹¤ì œë¡œ ì‚¬ìš©í•´ë³´ë©´ ëª‡ ê°€ì§€ ë¬¸ì œì— ë¶€ë”ªíŒë‹¤.\n\n1. **Fallback UIì˜ ë‹¨ìˆœí•¨**\n\n    `<div>ë¡œë”© ì¤‘...</div>` ê°™ì€ ë©”ì‹œì§€ëŠ” ë„ˆë¬´ ë‹¨ì¡°ë¡­ë‹¤.\n    ë³´í†µì€ Skeleton UIë‚˜ ìŠ¤í”¼ë„ˆ ê°™ì€ ê³µí†µ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ì¼ê´€ëœ UXë¥¼ ì œê³µí•œë‹¤.\n\n2. **ë¼ìš°íŠ¸ ë‹¨ìœ„ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**\n\n    í˜ì´ì§€ ë‹¨ìœ„ì—ì„œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ ì ìš©í•˜ëŠ” ê²Œ ê°€ì¥ íš¨ê³¼ì ì´ë‹¤.\n\n\n    ì˜ˆë¥¼ ë“¤ì–´ React Routerì™€ í•¨ê»˜ ì“°ë©´ ì´ë ‡ê²Œ ëœë‹¤.\n\n\n    ```typescript\n    const Home = lazy(() => import("./pages/Home"));\n    const Profile = lazy(() => import("./pages/Profile"));\n    \n    <Routes>\n      <Route\n    \t  path="/"\n        element={\n          <Suspense fallback={<PageSkeleton />}>\n            <Home />\n          </Suspense>\n        }\n      />\n      <Route\n    \t  path="/profile"\n        element={\n          <Suspense fallback={<PageSkeleton />}>\n            <Profile />\n          </Suspense>\n        }\n      />\n    </Routes>\n    ```\n\n\n    ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ì ì…ì¥ì—ì„œ ë‹¹ì¥ í•„ìš”í•œ í˜ì´ì§€ ì½”ë“œë§Œ ë‹¤ìš´ë¡œë“œë˜ê¸° ë•Œë¬¸ì— ì†ë„ ì°¨ì´ê°€ í™•ì‹¤í•˜ë‹¤.\n\n3. **ì¤‘ì²©ëœ Suspense ê´€ë¦¬**\n\n    ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ `Suspense`ë¥¼ ë”°ë¡œ ë‘ë©´ ë³µì¡í•´ì§„ë‹¤.\n\n\n    ë³´í†µì€ **ìƒìœ„ì— í° í‹€ì˜ Suspense**ë¥¼ ë‘ê³ , í•˜ìœ„ëŠ” ìµœì†Œí•œë§Œ ê´€ë¦¬í•˜ëŠ” ê²Œ í¸í•˜ë‹¤.\n\n\n    ```javascript\n    <Suspense fallback={<AppSkeleton />}>\n      <AppRoutes />\n    </Suspense>\n    ```\n\n\n    ì´ë ‡ê²Œ í•˜ë©´ ì „ì²´ í˜ì´ì§€ ë¡œë”©ì€ ìƒìœ„ì—ì„œ ê´€ë¦¬í•˜ê³ , ì •ë§ í•„ìš”í•œ ê²½ìš°ì—ë§Œ í•˜ìœ„ Suspenseë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\n\n\n---\n\n\n### ì‹¤ë¬´ì—ì„œ ì–»ì€ êµí›ˆ\n\n\ní•„ìë„ ì´ˆë°˜ì—ëŠ” â€œëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ lazyë¡œ ê°ì‹¸ë©´ ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ê² ì§€â€ë¼ê³  ìƒê°í–ˆë‹¤.\ní•˜ì§€ë§Œ ì‘ì€ ë²„íŠ¼ì´ë‚˜ ê³µìš© UIê¹Œì§€ ì „ë¶€ ë¶„ë¦¬í•˜ë‹ˆ ì˜¤íˆë ¤ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ëŠ˜ì–´ë‚˜ì„œ ì„±ëŠ¥ì´ ë–¨ì–´ì¡Œë‹¤.\n\n\nê²°êµ­ ë‹µì€ ì‚¬ìš©ìê°€ ë‹¹ì¥ ë³´ì§€ ì•ŠëŠ” í˜ì´ì§€ ë‹¨ìœ„ì—ì„œë§Œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ ì ìš©í•˜ëŠ” ê²ƒì´ì—ˆë‹¤.\níŠ¹íˆ ê´€ë¦¬ì í˜ì´ì§€ì²˜ëŸ¼ ê·œëª¨ê°€ í¬ê³ , ì ‘ê·¼ ë¹ˆë„ê°€ ë‚®ì€ ì˜ì—­ì— ì ìš©í–ˆì„ ë•Œ íš¨ê³¼ê°€ í™•ì‹¤í–ˆë‹¤.\n\n\n---\n\n\n### í˜ì´ì§€ ìºì‹±ê³¼ KeepAlive\n\n\nì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•´ì„œ, í˜ì´ì§€ ìì²´ë¥¼ ìºì‹±(KeepAlive) í•´ë³´ëŠ” ì‹œë„ë¥¼ í–ˆë‹¤.\nëª©í‘œëŠ” â€œë‹¤ì‹œ ë“¤ì–´ì˜¬ ë•Œ ë¡œë”© ì—†ì´ ì¦‰ì‹œ ë³´ì—¬ì£¼ìâ€ì˜€ë‹¤.\n\n\ní•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œê°€ ìƒê²¼ë‹¤.\në‹¨ìˆœíˆ `<Outlet />`ì„ ë³´ì¡´í•´ë‘ë‹ˆ, ë‚´ë¶€ì—ì„œ ì“°ëŠ” React Query ìºì‹œê¹Œì§€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ë²„ë¦° ê²ƒì´ë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ í™”ë©´ì€ ë¹ ë¥´ê²Œ ëœ¨ì§€ë§Œ, ë°ì´í„°ëŠ” ìµœì‹ í™”ë˜ì§€ ì•Šì•˜ë‹¤.\n\n\n---\n\n\n### ë‚´ê°€ ê²ªì—ˆë˜ ì‚¬ë¡€\n\n\nì˜ˆì „ì— React Queryë¥¼ ì“°ëŠ” í”„ë¡œì íŠ¸ì—ì„œ, í˜ì´ì§€ ë‹¨ìœ„ ìºì‹±ì„ í•´ë³¸ ì ì´ ìˆë‹¤.\n\n\në¼ìš°í„° ì „í™˜ ì‹œ `<Outlet />`ì„ ê·¸ëŒ€ë¡œ ë³´ì¡´í•´ì„œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ ì§€í–ˆëŠ”ë°, ì´ê²Œ ë¬¸ì œì˜€ë‹¤.\n\n- ì¥ì : ëŒì•„ì™”ì„ ë•Œ í™”ë©´ì´ ë°”ë¡œ ëœ¸.\n- ë‹¨ì : ë‚´ë¶€ì—ì„œ ì“°ëŠ” React Query ìºì‹œê¹Œì§€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŒ â†’ ìµœì‹  ë°ì´í„° ë°˜ì˜ ì•ˆ ë¨.\n\nê²°êµ­ "í˜ì´ì§€ëŠ” ë³´ì¡´í•˜ë˜, ì¿¼ë¦¬ëŠ” ë¦¬íŒ¨ì¹˜"í•˜ëŠ” ì ˆì¶©ì•ˆì„ ì°¾ì•„ì•¼ í–ˆë‹¤.\n\n\n---\n\n\n### í•´ê²° ë°©ë²•\n\n1. **React Queryì˜** **`staleTime`****ê³¼** **`refetchOnMount`** **ì¡°ì •**\n\n    ```typescript\n    useQuery({\n      queryKey: ["users"],\n      queryFn: fetchUsers,\n      staleTime: 0, // í•­ìƒ fresh ì·¨ê¸‰\n      refetchOnMount: true, // ë‹¤ì‹œ ë§ˆìš´íŠ¸ë  ë•Œ refetch\n    });\n    ```\n\n\n    ì´ë ‡ê²Œ í•˜ë©´ í˜ì´ì§€ ìºì‹±ì€ ìœ ì§€ë˜ë”ë¼ë„, ë‹¤ì‹œ ë“¤ì–´ì˜¬ ë•Œ ì¿¼ë¦¬ëŠ” ìƒˆë¡œ ë¶ˆëŸ¬ì˜¨ë‹¤.\n\n2. **í˜ì´ì§€ ë‹¨ìœ„ ìºì‹± vs ì¿¼ë¦¬ ìºì‹±ì„ ë¶„ë¦¬**\n    - UI ìƒíƒœ(ìŠ¤í¬ë¡¤ ìœ„ì¹˜, ì…ë ¥ ê°’, íƒ­ ì„ íƒ ë“±)ëŠ” `zustand` ê°™ì€ í´ë¼ì´ì–¸íŠ¸ ìŠ¤í† ì–´ì— ì €ì¥.\n    - ì„œë²„ ë°ì´í„°ëŠ” React Queryì— ë§¡ê¸°ê³ , mount ì‹œì ì—ì„œ ìë™ìœ¼ë¡œ ìµœì‹ í™”.\n3. **ë¼ìš°í„° ì „í™˜ ì´ë²¤íŠ¸ì— ë§ì¶° ë°ì´í„° ìˆ˜ì‹ **\n    - `react-router-dom`ì˜ `useLocation` í›…ì„ ê°ì§€í•´ì„œ, íŠ¹ì • í˜ì´ì§€ë¡œ ë“¤ì–´ì˜¬ ë•Œ ì‚¬ìš©í•œë‹¤.\n    - ì´ë ‡ê²Œ í•˜ë©´ UIëŠ” ìºì‹±ë˜ê³ , ë°ì´í„°ëŠ” ìƒˆë¡œê³ ì¹¨ëœë‹¤.\n\n---\n\n\n### ë°ì´í„° ìµœì‹ í™” ì „ëµ\n\n\nUIëŠ” ê·¸ëŒ€ë¡œ ë‘ë”ë¼ë„, ë°ì´í„°ëŠ” ìµœì‹  ìƒíƒœë¡œ ë§ì¶”ëŠ” ê²Œ ì¤‘ìš”í•˜ë‹¤.\nReact Query ê¸°ì¤€ìœ¼ë¡œ ë³´ë©´ í¬ê²Œ ë‘ ê°€ì§€ ë°©ì‹ì´ ìˆë‹¤.\n\n1. **ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (Optimistic Update)**\n    - ì‚¬ìš©ìì˜ ì•¡ì…˜ì— ë§ì¶° ìºì‹œë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ê³ , ì‹¤íŒ¨ ì‹œ ë¡¤ë°±.\n    - UXëŠ” ë¹ ë¥´ì§€ë§Œ, ì‹¤íŒ¨ ì²˜ë¦¬ ë¡œì§ì„ ê¼¼ê¼¼íˆ ë„£ì–´ì•¼ í•œë‹¤.\n\n    ```typescript\n    const mutation = useMutation(updateUser, {\n      onMutate: async (newUser) => {\n        await queryClient.cancelQueries({ queryKey: ["user"] });\n        const prevUser = queryClient.getQueryData(["user"]);\n        queryClient.setQueryData(["user"], newUser);\n        return { prevUser };\n      },\n      onError: (_err, _newUser, ctx) => {\n        queryClient.setQueryData(["user"], ctx?.prevUser);\n      },\n      onSettled: () => {\n        queryClient.invalidateQueries({ queryKey: ["user"] });\n      },\n    });\n    ```\n\n2. **ì¿¼ë¦¬ ë¬´íš¨í™” í›„ ë‹¤ì‹œ ì¡°íšŒ (Invalidate + Refetch)**\n    - `queryClient.invalidateQueries`ë¡œ ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ê³  ì„œë²„ì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¨ë‹¤.\n    - ë‹¨ìˆœí•˜ê³  ì•ˆì „í•˜ì§€ë§Œ, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ëŠ˜ì–´ë‚œë‹¤.\n\n    ```typescript\n    useEffect(() => {\n      queryClient.invalidateQueries({ queryKey: ["users"] });\n    }, [location.pathname]);\n    ```\n\n\nìœ„ 2ê°€ì§€ ë°©ë²• ì¤‘, ë³¸ì¸ì˜ ìƒí™©ì— ë§ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.\n\n- ë¹ ë¥¸ ë°˜ì‘ì„±ì´ í•„ìš”í•˜ë‹¤ë©´ ë‚™ê´€ì  ì—…ë°ì´íŠ¸\n- ì•ˆì •ì„±ì´ ë” ì¤‘ìš”í•˜ë‹¤ë©´ ë¬´íš¨í™” & refetch\n\n---\n\n\n### ê²½í—˜ì—ì„œ ì–»ì€ í¬ì¸íŠ¸\n\n\ní˜ì´ì§€ ì „ì²´ ìºì‹±ì€ ë§¤ë ¥ì ì´ì§€ë§Œ, ê²°êµ­ í™”ë©´ ìƒíƒœì™€ ë°ì´í„°ëŠ” ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•´ì•¼ í•œë‹¤.\n\n- UIëŠ” KeepAlive ëŠë‚Œìœ¼ë¡œ ë³´ì¡´\n- ë°ì´í„°ëŠ” í•­ìƒ freshí•˜ê²Œ ìœ ì§€\n\nì´ë ‡ê²Œ ë‚˜ëˆ„ë‹ˆ ì‚¬ìš©ì ê²½í—˜ë„ ì¢‹ì•„ì§€ê³ , ìœ ì§€ë³´ìˆ˜ë„ í•œê²° í¸í•´ì¡Œë‹¤.\níŠ¹íˆ ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ í•„í„°/ê²€ìƒ‰ ìƒíƒœê°€ ê·¸ëŒ€ë¡œ ì‚´ì•„ìˆìœ¼ë©´ì„œë„, ë°ì´í„°ëŠ” ìµœì‹ ìœ¼ë¡œ ë°”ë€ŒëŠ” ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.\n\n\n---\n\n\n### ì •ë¦¬\n\n- `React.lazy`ì™€ `Suspense`ëŠ” ì´ˆê¸° ë¡œë”© ì†ë„ë¥¼ ì¤„ì´ëŠ” ì¢‹ì€ ë„êµ¬ë‹¤.\n- í•˜ì§€ë§Œ **ë¬´ì¡°ê±´ ë‚¨ë°œí•˜ê¸°ë³´ë‹¤ëŠ”, í˜ì´ì§€ ë‹¨ìœ„**ë¡œ ì ìš©í•˜ëŠ” ê²Œ í˜„ì‹¤ì ì´ë‹¤.\n- Fallback UIë¥¼ ì˜ ì„¤ê³„í•˜ë©´ UXê¹Œì§€ ê°œì„ í•  ìˆ˜ ìˆë‹¤.\n- ì‘ì€ ì»´í¬ë„ŒíŠ¸ë³´ë‹¤ëŠ” **ì‚¬ìš©ì íë¦„ì— ë”°ë¼ ë¡œë”©ë  ìˆ˜ ìˆëŠ” í° ë‹¨ìœ„**ë¥¼ ìª¼ê°œëŠ” ê²Œ í•µì‹¬ì´ë‹¤.\n- React KeepAlive íŒ¨í„´ì„ UI ìƒíƒœ ë³´ì¡´ìš©ìœ¼ë¡œë§Œ ì“°ê³ , ë°ì´í„°ëŠ” ë°˜ë“œì‹œ refetchë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•ˆì •ì ì´ì—ˆë‹¤.\n',
  },
  {
    id: 'e2fb860c-7108-449b-8be7-14e1a25bf515',
    title: 'React ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ',
    category: 'React',
    tags: [
      'useCallback',
      'useMemo',
    ],
    createdBy: 'raven',
    created: '2025-09-05T05:39:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
    content: '\nReactë¥¼ ì“°ë‹¤ ë³´ë©´ ì„±ëŠ¥ ìµœì í™” ì´ì•¼ê¸°ê°€ ê¼­ ë‚˜ì˜¨ë‹¤. íŠ¹íˆ `useCallback`, `useMemo`ëŠ” ë¬´ì¡°ê±´ ë„£ì–´ì•¼ í•  ê²ƒì²˜ëŸ¼ ë³´ì´ê¸°ë„ í•œë‹¤. í•˜ì§€ë§Œ ë§‰ìƒ ì‹¤ë¬´ì—ì„œëŠ” â€œì–¸ì œ ì¨ì•¼ í•˜ëŠ”ì§€â€ê°€ ë” ì¤‘ìš”í•˜ë‹¤. ê´œíˆ ë‚¨ìš©í–ˆë‹¤ê°€ ì½”ë“œë§Œ ë³µì¡í•´ì§€ê³  ì„±ëŠ¥ ì°¨ì´ëŠ” ì—†ëŠ” ê²½ìš°ë„ ë§ë‹¤.\n\n\n---\n\n\n### ë©”ëª¨ì´ì œì´ì…˜ í›…ì˜ ëª©ì \n\n\n`useCallback`ê³¼ `useMemo`ëŠ” ê³µí†µì ìœ¼ë¡œ **ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜**í•œë‹¤.\n\n- `useCallback`: í•¨ìˆ˜ ê°ì²´ë¥¼ ë©”ëª¨ì´ì œì´ì…˜\n- `useMemo`: ì—°ì‚° ê²°ê³¼ë¥¼ ë©”ëª¨ì´ì œì´ì…˜\n\nì¦‰, ë Œë”ë§ì´ ë°˜ë³µë˜ì–´ë„ ë™ì¼í•œ ì°¸ì¡°ë¥¼ ìœ ì§€í•˜ê±°ë‚˜, ë¬´ê±°ìš´ ì—°ì‚°ì„ ë‹¤ì‹œ ê³„ì‚°í•˜ì§€ ì•Šë„ë¡ í•´ì¤€ë‹¤.\n\n\n---\n\n\n### ì‹¤ë¬´ì—ì„œ ìì£¼ ê²ªëŠ” ì‚¬ë¡€\n\n1. **ìì‹ ì»´í¬ë„ŒíŠ¸ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§**\n\n    ```typescript\n    const Parent = () => {\n      const [count, setCount] = useState(0);\n    \n      const handleClick = () => {\n        console.log("clicked");\n      };\n    \n      return (\n        <>\n    \t    <Child onClick={handleClick} />\n          <button onClick={() => setCount((c) => c + 1)}>+</button>\n        </>\n      );\n    };\n    \n    const Child = memo(({ onClick }: { onClick: () => void }) => {\n      console.log("child render");\n      return <button onClick={onClick}>Child</button>;\n    });\n    ```\n\n\n    `Child`ëŠ” `memo`ë¡œ ê°ìŒŒëŠ”ë°ë„ ë§¤ë²ˆ ë¦¬ë Œë”ë§ëœë‹¤. ì´ìœ ëŠ” `handleClick` í•¨ìˆ˜ê°€ ë Œë”ë§ë§ˆë‹¤ ìƒˆë¡œìš´ ê°ì²´ë¡œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì´ë‹¤.\n\n\n    ì´ë•Œ `useCallback`ìœ¼ë¡œ ë¬¶ì–´ì£¼ë©´ í•´ê²°ëœë‹¤.\n\n\n    ```typescript\n    const handleClick = useCallback(() => {\n      console.log("clicked");\n    }, []);\n    ```\n\n2. **ë¬´ê±°ìš´ ì—°ì‚° ê²°ê³¼ ì¬ì‚¬ìš©**\n\n    ```typescript\n    const Expensive = ({ num }: { num: number }) => {\n      const result = useMemo(() => {\n        console.log("expensive calc...");\n        return Array.from({ length: 1_000_000 }).reduce((a, _, i) => a + i, 0) + num;\n      }, [num]);\n    \n      return <div>{result}</div>;\n    };\n    ```\n\n\n    ì´ëŸ° ê²½ìš° `useMemo`ê°€ ì—†ìœ¼ë©´ ë§¤ ë Œë”ë§ˆë‹¤ 100ë§Œ ë²ˆ ê³„ì‚°ì„ ë‹¤ì‹œ í•˜ê²Œ ëœë‹¤.\n\n\n---\n\n\n### ì–¸ì œ ì“°ì§€ ë§ì•„ì•¼ í• ê¹Œ?\n\n- í•¨ìˆ˜ë‚˜ ì—°ì‚°ì´ **ê°€ë²¼ìš´ ê²½ìš°**\n    - ì˜¤íˆë ¤ `useMemo`, `useCallback`ì˜ ë¹„ìš©(ë©”ëª¨ì´ì œì´ì…˜ ê´€ë¦¬)ì´ ë” ì»¤ì§ˆ ìˆ˜ ìˆë‹¤.\n- ë Œë”ë§ ìµœì í™”ê°€ **ëˆˆì— ë„ê²Œ í•„ìš” ì—†ëŠ” ê²½ìš°**\n    - ë¬´ì¡°ê±´ ê°ì‹¸ëŠ” ìŠµê´€ì€ ì½”ë“œë§Œ ì¥í™©í•´ì§„ë‹¤.\n\në‚´ ê²½í—˜ìƒ, **ìì‹ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ í•¨ìˆ˜/ê°ì²´ë¥¼ ë„˜ê¸¸ ë•Œ** ê·¸ë¦¬ê³  **ë°ì´í„° ê³„ì‚° ë¹„ìš©ì´ í´ ë•Œ**ë§Œ ì‹ ê²½ ì¨ë„ ì¶©ë¶„í–ˆë‹¤. ê·¸ ì™¸ì—ëŠ” ê·¸ëƒ¥ ë‘ê³ , ì •ë§ ì„±ëŠ¥ ì´ìŠˆê°€ ë³´ì¼ ë•Œ ë¦¬íŒ©í† ë§í•˜ëŠ” ê²Œ ë” ë‚«ë‹¤.\n\n\n---\n\n\n### ì •ë¦¬\n\n- `useCallback`: ìì‹ì—ê²Œ ë‚´ë ¤ì£¼ëŠ” í•¨ìˆ˜ propsê°€ ë¬¸ì œ ë  ë•Œ\n- `useMemo`: ì—°ì‚°ì´ ë¬´ê²ê±°ë‚˜ ê°ì²´ ì°¸ì¡°ë¥¼ ìœ ì§€í•´ì•¼ í•  ë•Œ\n- ê¸°ë³¸ì€ â€œìµœì í™”ëŠ” í•„ìš”í•  ë•Œë§Œâ€\n',
  },
  {
    id: '19cd0a1c-71b4-4e45-a47d-498384fb9ccf',
    title: 'React Context API í•œê³„ì™€ Zustand ê°™ì€ ëŒ€ì•ˆ ë¹„êµ',
    category: 'React',
    tags: [
      'context',
      'zustand',
    ],
    createdBy: 'raven',
    created: '2025-09-05T02:46:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
    content: '\në¦¬ì•¡íŠ¸ ê°œë°œì„ í•˜ë‹¤ ë³´ë©´ ì „ì—­ ìƒíƒœ ê´€ë¦¬ê°€ í•„ìš”í•´ì§€ëŠ” ìˆœê°„ì´ ì˜¨ë‹¤.\n\n\nì²˜ìŒì—” Context APIë¡œ ê°„ë‹¨íˆ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì§€ë§Œ, ê·œëª¨ê°€ ì»¤ì§€ë©´ ë¬¸ì œê°€ ëˆˆì— ë„ê²Œ ë“œëŸ¬ë‚œë‹¤. ì˜¤ëŠ˜ì€ Context APIì˜ í•œê³„ì™€, ì‹¤ë¬´ì—ì„œ ë§ì´ ì“°ì´ëŠ” ëŒ€ì•ˆì¸ Zustandë¥¼ ë¹„êµí•´ ë³´ë ¤ê³  í•œë‹¤.\n\n\n---\n\n\n### Context API, ì–´ë””ê¹Œì§€ ì“¸ ìˆ˜ ìˆì„ê¹Œ?\n\n\nContext APIëŠ” ì „ì—­ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ë° ê½¤ í¸ë¦¬í•˜ë‹¤. ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´, ë‹¤í¬ëª¨ë“œ ì—¬ë¶€, ë‹¤êµ­ì–´ ì„¤ì • ê°™ì€ ì „ì—­ ìƒíƒœëŠ” Contextë¡œ ì¶©ë¶„íˆ í•´ê²°ëœë‹¤.\n\n\ní•˜ì§€ë§Œ ë¬¸ì œëŠ” **ë¦¬ë Œë”ë§**ì´ë‹¤. Context Providerì— ë“¤ì–´ ìˆëŠ” ê°’ì´ ë°”ë€Œë©´, ê·¸ ê°’ì„ ì“°ê³  ìˆì§€ ì•Šì€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê¹Œì§€ ì „ë¶€ ë¦¬ë Œë”ë§ëœë‹¤. ìƒíƒœê°€ ë§ì•„ì§ˆìˆ˜ë¡, UI êµ¬ì¡°ê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ ì„±ëŠ¥ì— ë¶€ë‹´ì´ ëœë‹¤.\n\n\nì‹¤ì œë¡œ í”„ë¡œì íŠ¸ì—ì„œ í…Œë§ˆ ì„¤ì •ì„ Contextë¡œ ê´€ë¦¬í–ˆì„ ë•Œ, ë²„íŠ¼ í´ë¦­ í•˜ë‚˜ë¡œ í™”ë©´ ì „ë°˜ì´ ë¦¬ë Œë”ë§ë˜ì–´ ì„±ëŠ¥ ì´ìŠˆê°€ ìƒê¸´ ì ì´ ìˆì—ˆë‹¤. ì‘ì€ í”„ë¡œì íŠ¸ë¼ë©´ ëˆˆì— ì˜ ì•ˆ ë„ì§€ë§Œ, ê·œëª¨ê°€ ì»¤ì§€ë©´ ë¬´ì‹œí•˜ê¸° í˜ë“¤ë‹¤.\n\n\në˜ ë‹¤ë¥¸ ì‚¬ë¡€ë„ ìˆë‹¤.\nContext APIë¡œ ê³µìš© ëª¨ë‹¬ í˜¸ì¶œê¸°ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œì¸ë°, ì ìš© ìì²´ëŠ” ì˜ ë˜ì—ˆì§€ë§Œ í˜¸ì¶œì´ `hook` ì•ˆì—ì„œë§Œ ê°€ëŠ¥í–ˆë‹¤.\nê²Œë‹¤ê°€ Vitestë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œë„ ì œì•½ì´ ì»¸ë‹¤.\nProviderë¥¼ ëª¨ë“  í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ì£¼ì…í•´ì¤˜ì•¼ í–ˆê¸° ë•Œë¬¸ì—, í…ŒìŠ¤íŠ¸ ì„¤ì •ì´ ë¶ˆí•„ìš”í•˜ê²Œ ë¬´ê±°ì›Œì¡Œë‹¤.\në‹¨ìˆœíˆ â€œì „ì—­ ëª¨ë‹¬ ì—´ê³  ë‹«ê¸°â€ ê°™ì€ ê¸°ëŠ¥ì—ë„ ì´ëŸ° ë¶ˆí¸ì´ ìƒê¸°ë‹ˆ, Contextì˜ í•œê³„ë¥¼ ì‹¤ê°í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n\n---\n\n\n### Zustand, ì™œ ëŒ€ì•ˆì´ ë ê¹Œ?\n\n\nZustandëŠ” Context APIì™€ ë‹¬ë¦¬ **í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¦¬ë Œë”ë§** í•œë‹¤.\n\n\nìƒíƒœë¥¼ ë¶„ë¦¬í•˜ê³ , ì»´í¬ë„ŒíŠ¸ëŠ” ìì‹ ì´ êµ¬ë…í•œ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸ë¥¼ ë°›ëŠ”ë‹¤.\n\n\n```typescript\nimport { create } from "zustand";\n\ninterface BearState {\n  bears: number;\n  increase: () => void;\n}\n\nconst useBearStore = create<BearState>((set) => ({\n  bears: 0,\n  increase: () => set((state) => ({ bears: state.bears + 1 })),\n}));\n\nfunction BearCounter() {\n  const bears = useBearStore((state) => state.bears); // í•„ìš”í•œ ìƒíƒœë§Œ êµ¬ë…\n  return <h1>{bears} ë§ˆë¦¬ì˜ ê³°</h1>;\n}\n\nfunction Controls() {\n  const increase = useBearStore((state) => state.increase);\n  return <button onClick={increase}>ê³° ì¶”ê°€</button>;\n}\n```\n\n\nì—¬ê¸°ì„œ `BearCounter`ëŠ” `bears` ê°’ì´ ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§ëœë‹¤.\në°˜ëŒ€ë¡œ `Controls`ëŠ” `increase` í•¨ìˆ˜ë§Œ êµ¬ë…í•˜ê¸° ë•Œë¬¸ì— ê³° ìˆ˜ê°€ ë³€í•´ë„ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤.\nContextì˜€ë‹¤ë©´ Provider ê°’ì´ ë°”ë€ŒëŠ” ìˆœê°„ ë‘ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ ë¦¬ë Œë”ë§ëì„ ê²ƒì´ë‹¤.\n\n\n---\n\n\n### ê·¸ëŸ¼ ContextëŠ” ì“°ë©´ ì•ˆ ë˜ë‚˜?\n\n\nì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤. ContextëŠ” ì—¬ì „íˆ ìœ ìš©í•˜ë‹¤.\n\n\në‹¤ë§Œ **ìì£¼ ë³€í•˜ì§€ ì•ŠëŠ” ê°’**, **ì „ì—­ì ìœ¼ë¡œ í•œ ë²ˆì— ë°”ë€Œì–´ì•¼ í•˜ëŠ” ê°’**ì„ ë‹¤ë£° ë•Œ ì í•©í•˜ë‹¤.\n\n- ë‹¤í¬ ëª¨ë“œ ì—¬ë¶€\n- ë¡œê·¸ì¸ ì—¬ë¶€\n- ì‚¬ìš©ì í™˜ê²½ì„¤ì •(í† ê¸€, UI ëª¨ë“œ ë“±)\n\nì´ëŸ° ê°’ì€ Contextë¡œë„ ì¶©ë¶„í•˜ë‹¤. ì˜¤íˆë ¤ Zustand ê°™ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë„ì…í•˜ëŠ” ê²Œ ê³¼í•  ìˆ˜ ìˆë‹¤.\n\n\në‹¤ë§Œ ì–¸ì–´ ì„¤ì • ê°™ì€ ê²½ìš°ëŠ” ë‹¤ë¥´ë‹¤.\n\n\n`react-i18next` ê°™ì€ i18n ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì´ë¯¸ Contextë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ì„œ í›¨ì”¬ í’ë¶€í•œ ê¸°ëŠ¥(ìºì‹±, fallback ì–¸ì–´, ë³µìˆ˜í˜• ì²˜ë¦¬ ë“±)ì„ ì œê³µí•œë‹¤. ì§ì ‘ Contextë¡œ ì–¸ì–´ë¥¼ ê´€ë¦¬í•˜ëŠ” ê±´ ë°”í€´ë¥¼ ë‹¤ì‹œ ë§Œë“œëŠ” ì…ˆì´ë‹ˆ êµ³ì´ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.\n\n\n---\n\n\n### ì •ë¦¬\n\n- Context API â†’ **UI ì „ì—­ ì„¤ì •ê°’**(í…Œë§ˆ, í™˜ê²½ì„¤ì • ë“±)ì— ì í•©\n- i18n â†’ ì–¸ì–´ ìƒíƒœëŠ” ì „ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë§¡ê¸°ëŠ” ê²Œ ì •ë‹µ\n- Zustand â†’ **ë¹„ì¦ˆë‹ˆìŠ¤ ìƒíƒœ ê´€ë¦¬**(ì„œë²„ ë°ì´í„°, ë³µì¡í•œ í´ë¼ì´ì–¸íŠ¸ ë¡œì§)ì— ìµœì \n\nì‹¤ë¬´ì—ì„œëŠ” ë³´í†µ **ì„ì–´ì„œ** ì“´ë‹¤.\n\n\nUI ì „ì—­ ì„¤ì •ì€ Contextë‚˜ ì „ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ Zustandë¡œ ê´€ë¦¬í•˜ëŠ” ì‹ì´ë‹¤.\n\n',
  },
  {
    id: '1f2cf0fe-4db0-4a56-805a-3f3881af8dee',
    title: 'React 18 ',
    category: 'React',
    tags: [
      'useEffect',
    ],
    createdBy: 'raven',
    created: '2025-08-27T07:17:00.000Z',
    edited: '2025-11-10T16:36:00.000Z',
    content: '\nReactë¥¼ ì¡°ê¸ˆë§Œ ì¨ë´¤ë‹¤ë©´ `useEffect`ëŠ” ë°˜ë“œì‹œ ë§ˆì£¼ì¹˜ê²Œ ëœë‹¤.\nê·¸ëŸ°ë° React 18 ì´í›„ë¡œ ë™ì‘ ë°©ì‹ì´ ë¯¸ë¬˜í•˜ê²Œ ë‹¬ë¼ì ¸ì„œ, ê¸°ì¡´ì²˜ëŸ¼ ì½”ë“œë¥¼ ì§œë©´ ì˜ë„ì¹˜ ì•Šì€ ë¬¸ì œê°€ ìƒê¸°ê¸°ë„ í•œë‹¤.\nì˜¤ëŠ˜ì€ ê·¸ ë¶€ë¶„ì„ ì •ë¦¬í•´ë³´ë ¤ê³  í•œë‹¤.\n\n\n---\n\n\n### `useEffect`ì˜ ê¸°ë³¸ ì—­í• \n\n\n`useEffect`ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëœ ë’¤ì— ì‹¤í–‰ë˜ëŠ” **ë¶€ìˆ˜ íš¨ê³¼(side effect) ì²˜ë¦¬ í›…**ì´ë‹¤.\n\n\nëŒ€í‘œì ì¸ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- API í˜¸ì¶œ (ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°)\n- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ë° í•´ì œ\n- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ë™\n\n```javascript\nimport { useEffect, useState } from "react";\n\nexport default function UserProfile() {\n  const [user, setUser] = useState<{ name: string } | null>(null);\n\n  useEffect(() => {\n    fetch("/api/user")\n      .then((res) => res.json())\n      .then((data) => setUser(data));\n  }, []); // ìµœì´ˆ ë§ˆìš´íŠ¸ ì‹œì—ë§Œ ì‹¤í–‰\n\n  return <div>{user ? user.name : "Loading..."}</div>;\n}\n```\n\n\n---\n\n\n### React 18ì—ì„œ ë‹¬ë¼ì§„ ì : **Strict Modeì˜ ë‘ ë²ˆ ì‹¤í–‰**\n\n\nReact 18ì—ì„œëŠ” ê°œë°œ ëª¨ë“œ(Strict Mode)ì—ì„œ `useEffect`ê°€ **ì˜ë„ì ìœ¼ë¡œ ë‘ ë²ˆ ì‹¤í–‰**ëœë‹¤.\n\n\nì´ìœ ëŠ” "side effectê°€ ì•ˆì „í•˜ê²Œ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ"ë‹¤.\n\n\nì¦‰, ìœ„ ì˜ˆì œì²˜ëŸ¼ `fetch` ìš”ì²­ì„ ë„£ìœ¼ë©´ ê°œë°œ í™˜ê²½ì—ì„œ ë‘ ë²ˆ í˜¸ì¶œë˜ëŠ” ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.\n\n\n(ì‹¤ì œ ë°°í¬ í™˜ê²½ì—ì„œëŠ” í•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤.)\n\n\n### ë¬¸ì œ ìƒí™© ì˜ˆì‹œ\n\n\n```typescript\nuseEffect(() => {\n  console.log("API í˜¸ì¶œ");\n  fetch("/api/user");\n}, []);\n```\n\n\nê°œë°œ í™˜ê²½ ì½˜ì†”ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©ëœë‹¤.\n\n\n```plain text\nAPI í˜¸ì¶œ\nAPI í˜¸ì¶œ\n```\n\n\nâ†’ ê°™ì€ ìš”ì²­ì´ ë‘ ë²ˆ ê°€ë©´ì„œ ì„œë²„ì— ë¶ˆí•„ìš”í•œ íŠ¸ë˜í”½ì´ ìƒê¸°ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.\n\n\n---\n\n\n### ì–´ë–»ê²Œ ëŒ€ì‘í•´ì•¼ í• ê¹Œ?\n\n1. **Effect ë‚´ë¶€ì—ì„œ cleanup í™œìš©í•˜ê¸°**\n    - ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë‚˜ íƒ€ì´ë¨¸ ê°™ì€ ê²½ìš°ëŠ” ë°˜ë“œì‹œ ì •ë¦¬(cleanup)ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.\n    - cleanupì´ ì—†ë‹¤ë©´ ë‘ ë²ˆ ì‹¤í–‰ ì‹œ ë¦¬ìŠ¤ë„ˆê°€ ì¤‘ë³µ ë“±ë¡ëœë‹¤.\n\n    ```typescript\n    useEffect(() => {\n      const handler = () => console.log("resize");\n      window.addEventListener("resize", handler);\n    \n      return () => {\n        window.removeEventListener("resize", handler);\n      };\n    }, []);\n    ```\n\n2. **API í˜¸ì¶œì€ idempotentí•˜ê²Œ**\n    - ë™ì¼ ìš”ì²­ì´ ì—¬ëŸ¬ ë²ˆ ê°€ë”ë¼ë„ ë¬¸ì œê°€ ì—†ê²Œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.\n    - ì„œë²„ ìª½ì—ì„œ ìºì‹±ì„ í•˜ê±°ë‚˜, í”„ë¡ íŠ¸ì—ì„œ `useRef`ë¡œ ì¤‘ë³µ ë°©ì§€ í”Œë˜ê·¸ë¥¼ ë‘˜ ìˆ˜ë„ ìˆë‹¤.\n\n    ```typescript\n    useEffect(() => {\n      let ignore = false;\n    \n      fetch("/api/user")\n        .then((res) => res.json())\n        .then((data) => {\n          if (!ignore) {\n            setUser(data);\n          }\n        });\n    \n      return () => {\n        ignore = true;\n      };\n    }, []);\n    ```\n\n3. **React Query, SWR ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©í•˜ê¸°**\n    - ì§ì ‘ fetch ê´€ë¦¬ ëŒ€ì‹  ê²€ì¦ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“°ë©´ ì¤‘ë³µ í˜¸ì¶œ ë¬¸ì œë¥¼ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n    - ì‹¤ë¬´ì—ì„œëŠ” ì´ ì ‘ê·¼ì´ ë” íš¨ìœ¨ì ì´ë‹¤.\n\n---\n\n\n### ì •ë¦¬\n\n- `useEffect`ëŠ” ë Œë”ë§ í›„ ì‹¤í–‰ë˜ëŠ” í›…ì´ë‹¤.\n- React 18 ê°œë°œ ëª¨ë“œì—ì„  ì•ˆì „ì„±ì„ ìœ„í•´ ë‘ ë²ˆ ì‹¤í–‰ëœë‹¤.\n- cleanup í•¨ìˆ˜ë¥¼ ì˜ ì‘ì„±í•´ì•¼ ì¤‘ë³µ ë¬¸ì œë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤.\n- ë°ì´í„° íŒ¨ì¹­ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì„ ì ê·¹ ê³ ë ¤í•˜ëŠ” ê²Œ ì¢‹ë‹¤.\n\nì‹¤ë¬´ì—ì„œ ê°€ì¥ ë§ì´ ê²ªëŠ” ì˜¤ë¥˜ê°€ ë°”ë¡œ **"ì™œ ë‘ ë²ˆ ì‹¤í–‰ë¼?"** ì¸ë°, ì´ê±´ React 18ì˜ ì •ìƒ ë™ì‘ì´ë¼ëŠ” ì ë§Œ ê¸°ì–µí•´ë‘ë©´ ëœë‹¤.\n\n',
  },
];

export const blogHandlers = (server: Server) => {
  // Get all blog posts (Notion API: /api/notion/pages)
  server.get('/notion/pages', (_schema: unknown, request: Request) => {
    const pageParam = request.queryParams.page;
    const limitParam = request.queryParams.limit;
    const page = parseInt(Array.isArray(pageParam) ? pageParam[0] : pageParam || '1', 10);
    const limit = parseInt(Array.isArray(limitParam) ? limitParam[0] : limitParam || '20', 10);

    const total = mockBlogListData.length;
    const start = (page - 1) * limit;
    const end = start + limit;

    const paginatedData = mockBlogListData.slice(start, end);

    return {
      data: paginatedData,
      meta: {
        total,
        page,
        limit,
        totalPages: Math.ceil(total / limit),
      },
    };
  });

  // Get single blog post by title (Notion API: /api/notion/page?title=...)
  server.get('/notion/page', (_schema: unknown, request: Request) => {
    const titleParam = request.queryParams.title;
    const title = Array.isArray(titleParam) ? titleParam[0] : titleParam;

    if (!title) {
      return new Response(JSON.stringify({ error: 'Title parameter is required' }), {
        status: 400,
        headers: { 'Content-Type': 'application/json' },
      });
    }

    const matchingPost = mockBlogDetailData.find((post) => post.title === title);

    if (!matchingPost) {
      return new Response(JSON.stringify({ error: 'Page not found' }), {
        status: 404,
        headers: { 'Content-Type': 'application/json' },
      });
    }

    return matchingPost;
  });
};
